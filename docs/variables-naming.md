# Переменные
Абсолютное большинство проектов требует хранения приватных переменных.
Зачастую это требуется для различных `NODE_ENV` режимов работы приложения, такие как `development`, `production` или `test`. <br/>

Average пошел дальше и позволяет создавать конфигурации не только под различные `NODE_ENV` режимы, а и с любыми конфигурационными файлами.
Это позволяет по-настоящему гибко конфигурировать Ваше приложение, таким образом не ограничивая его в горизонтальном масштабировании.

## Загрузка переменных

При запуске проекта работающего с Average в указанном месте подключения утилиты `envReader` Average синхронно вычитает все
переменные и запишет их в `process.env`.

> [!WARNING]
> Подключайте утилиту в точке входа в Ваше приложение, например index.ts в вашем скрипте если проект написан на TypeScript,
которую Вы указываете в package.json или index.js, если проект написан на JavaScript

<!-- tabs:start -->

#### **JavaScript**

```json
{
  "scripts": {
    "dev": "ts-node --files index.ts"
  }
}
```


#### **TypeScript**

```json
{
  "scripts": {
    "dev": "node index.js"
  }
}
```

<!-- tabs:end -->


> [!ATTENTION]
> Если в проекте работающего с Average в каком-то месте Вашей программы вы укажите новое значение переменной, то она изменится и в
`process.env`. Если Вам подобные изменения не нужны сознательно, то рекомендуется следовать соглашению по названию переменных

## Соглашение по названию

Average построен и спроектирован так, чтобы быть максимально чистым, перебирая правила игры у `Node.js`. Таким образом
`envReader` не модифицирует ни ключи, ни значение Ваших приватных переменных. <br/> <br/>

Особенностью работы `process.env` встроенному модуля `process` в `Node.js` является запись приватных переменных с уникальным
названием. Таким образом допуская переопределения переменных в рамках считывание компилятором по всей кодовой базе программы.
Чтобы правильно организовать название переменных

> [!WARNING]
> Называйте переменные в SCREAMING_SNAKE_CASE формате с
выделением общей части названия нескольких приватных переменных в дополнительный блок названия переменной

```json
{
    "PG_PORT": 5432,
    "PG_USERNAME": "username",
    "PG_PASSWORD": "root",
    "PG_DATABASE": "database_name",
    "MYSQL_PORT": 3306,
    "MYSQL_USERNAME": "username",
    "MYSQL_PASSWORD": "root",
    "MYSQL_DATABASE": "database_name",
}
```

Таким образом в `process.env` переменные будут записаны соответственно:
```
{
    PG_PORT: 5432,
    PG_USERNAME: 'username',
    PG_PASSWORD: 'root',
    PG_DATABASE: 'database_name', 
    MYSQL_PORT: 3306, 
    MYSQL_USERNAME: 'username',
    MYSQL_PASSWORD: 'root',
    MYSQL_DATABASE: 'database_name'
}
```